{{>header}}

import type { ApiRequestOptions } from './ApiRequestOptions';

type Resolver<T> = (options: ApiRequestOptions) => Promise<T>;

export type OpenAPIConfig = {
    edge?: string;
    token?: string | Resolver<string>;
    accountSid?: string | Resolver<string>;
    authToken?: string | Resolver<string>;
}

export type OpenAPIConfig2 = {
    base: string;
    version: string;
    edge: string;
    token?: string | Resolver<string>;
    accountSid?: string | Resolver<string>;
    authToken?: string | Resolver<string>;
}

{{#unless @root.exportClient}}

export const OpenAPI: OpenAPIConfig = {
    base: '{{{server}}}',
    version: '{{{version}}}',
    edge: '{{#if server.edgeRegions}}{{server.edgeRegions.[0]}}{{else}}gll{{/if}}',
    token: undefined,
    accountSid: undefined,
    authToken: undefined
};{{/unless}}
